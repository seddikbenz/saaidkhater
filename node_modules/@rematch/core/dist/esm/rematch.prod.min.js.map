{"version":3,"file":"rematch.prod.min.js","sources":["../../lib/core.js","../../node_modules/lodash-es/_freeGlobal.js","../../node_modules/lodash-es/_root.js","../../node_modules/lodash-es/_Symbol.js","../../node_modules/lodash-es/_getRawTag.js","../../node_modules/lodash-es/_objectToString.js","../../node_modules/lodash-es/_baseGetTag.js","../../node_modules/lodash-es/_overArg.js","../../node_modules/lodash-es/_getPrototype.js","../../node_modules/lodash-es/isObjectLike.js","../../node_modules/lodash-es/isPlainObject.js","../../node_modules/symbol-observable/es/index.js","../../node_modules/symbol-observable/es/ponyfill.js","../../node_modules/redux/es/createStore.js","../../node_modules/redux/es/combineReducers.js","../../node_modules/redux/es/bindActionCreators.js","../../node_modules/redux/es/compose.js","../../node_modules/redux/es/applyMiddleware.js","../../lib/redux/devtools.js","../../lib/utils/isListener.js","../../lib/redux/reducers.js","../../lib/redux/store.js","../../lib/utils/validate.js","../../lib/model.js","../../lib/plugins/dispatch.js","../../lib/plugins/effects.js","../../lib/plugins/index.js","../../lib/utils/buildPlugins.js","../../lib/utils/getActionCreators.js","../../lib/utils/getExposed.js","../../lib/utils/getModels.js","../../lib/utils/isObject.js","../../lib/utils/mergeConfig.js","../../lib/init.js","../../lib/utils/deprecate.js","../../lib/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.modelHooks = [];\nexports.pluginMiddlewares = [];\nexports.preStore = function (plugins) {\n    plugins.forEach(function (plugin) {\n        if (plugin.middleware) {\n            exports.pluginMiddlewares.push(plugin.middleware);\n        }\n        if (plugin.onModel) {\n            exports.modelHooks.push(plugin.onModel);\n        }\n    });\n};\nexports.postStore = function (plugins, store) {\n    plugins.forEach(function (plugin) {\n        if (plugin.onStoreCreated) {\n            plugin.onStoreCreated(store);\n        }\n    });\n};\n//# sourceMappingURL=core.js.map","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","import isPlainObject from 'lodash-es/isPlainObject';\nimport $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nexport var ActionTypes = {\n  INIT: '@@redux/INIT'\n\n  /**\n   * Creates a Redux store that holds the state tree.\n   * The only way to change the data in the store is to call `dispatch()` on it.\n   *\n   * There should only be a single store in your app. To specify how different\n   * parts of the state tree respond to actions, you may combine several reducers\n   * into a single reducer function by using `combineReducers`.\n   *\n   * @param {Function} reducer A function that returns the next state tree, given\n   * the current state tree and the action to handle.\n   *\n   * @param {any} [preloadedState] The initial state. You may optionally specify it\n   * to hydrate the state from the server in universal apps, or to restore a\n   * previously serialized user session.\n   * If you use `combineReducers` to produce the root reducer function, this must be\n   * an object with the same shape as `combineReducers` keys.\n   *\n   * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n   * to enhance the store with third-party capabilities such as middleware,\n   * time travel, persistence, etc. The only store enhancer that ships with Redux\n   * is `applyMiddleware()`.\n   *\n   * @returns {Store} A Redux store that lets you read the state, dispatch actions\n   * and subscribe to changes.\n   */\n};export default function createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n  function getState() {\n    return currentState;\n  }\n\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected listener to be a function.');\n    }\n\n    var isSubscribed = true;\n\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      isSubscribed = false;\n\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer;\n    dispatch({ type: ActionTypes.INIT });\n  }\n\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object') {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return { unsubscribe: unsubscribe };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  }\n\n  // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n  dispatch({ type: ActionTypes.INIT });\n\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}","import { ActionTypes } from './createStore';\nimport isPlainObject from 'lodash-es/isPlainObject';\nimport warning from './utils/warning';\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionName = actionType && '\"' + actionType.toString() + '\"' || 'an action';\n\n  return 'Given action ' + actionName + ', reducer \"' + key + '\" returned undefined. ' + 'To ignore an action, you must explicitly return the previous state. ' + 'If you want this reducer to hold no value, you can return null instead of undefined.';\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return 'The ' + argumentName + ' has unexpected type of \"' + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + '\". Expected argument to be an object with the following ' + ('keys: \"' + reducerKeys.join('\", \"') + '\"');\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n\n  if (unexpectedKeys.length > 0) {\n    return 'Unexpected ' + (unexpectedKeys.length > 1 ? 'keys' : 'key') + ' ' + ('\"' + unexpectedKeys.join('\", \"') + '\" found in ' + argumentName + '. ') + 'Expected to find one of the known reducer keys instead: ' + ('\"' + reducerKeys.join('\", \"') + '\". Unexpected keys will be ignored.');\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, { type: ActionTypes.INIT });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined during initialization. ' + 'If the state passed to the reducer is undefined, you must ' + 'explicitly return the initial state. The initial state may ' + 'not be undefined. If you don\\'t want to set a value for this reducer, ' + 'you can use null instead of undefined.');\n    }\n\n    var type = '@@redux/PROBE_UNKNOWN_ACTION_' + Math.random().toString(36).substring(7).split('').join('.');\n    if (typeof reducer(undefined, { type: type }) === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined when probed with a random type. ' + ('Don\\'t try to handle ' + ActionTypes.INIT + ' or other actions in \"redux/*\" ') + 'namespace. They are considered private. Instead, you must return the ' + 'current state for any unknown actions, unless it is undefined, ' + 'in which case you must return the initial state, regardless of the ' + 'action type. The initial state may not be undefined, but can be null.');\n    }\n  });\n}\n\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\nexport default function combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning('No reducer provided for key \"' + key + '\"');\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n  var finalReducerKeys = Object.keys(finalReducers);\n\n  var unexpectedKeyCache = void 0;\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError = void 0;\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var action = arguments[1];\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n    return hasChanged ? nextState : state;\n  };\n}","function bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(undefined, arguments));\n  };\n}\n\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass a single function as the first argument,\n * and get a function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\nexport default function bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error('bindActionCreators expected an object or a function, instead received ' + (actionCreators === null ? 'null' : typeof actionCreators) + '. ' + 'Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?');\n  }\n\n  var keys = Object.keys(actionCreators);\n  var boundActionCreators = {};\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var actionCreator = actionCreators[key];\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n  return boundActionCreators;\n}","/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\nexport default function compose() {\n  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(undefined, arguments));\n    };\n  });\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport compose from './compose';\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\nexport default function applyMiddleware() {\n  for (var _len = arguments.length, middlewares = Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function (reducer, preloadedState, enhancer) {\n      var store = createStore(reducer, preloadedState, enhancer);\n      var _dispatch = store.dispatch;\n      var chain = [];\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch(action) {\n          return _dispatch(action);\n        }\n      };\n      chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(undefined, chain)(store.dispatch);\n\n      return _extends({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable */\nvar redux_1 = require(\"redux\");\nexports.composeEnhancers = function (devtoolOptions) {\n    if (devtoolOptions === void 0) { devtoolOptions = {}; }\n    /* istanbul ignore next */\n    return (typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__)\n        ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(devtoolOptions)\n        : redux_1.compose;\n};\n//# sourceMappingURL=devtools.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = (function (reducer) { return reducer.includes('/'); });\n//# sourceMappingURL=isListener.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint no-underscore-dangle: 0 */\nvar redux_1 = require(\"redux\");\nvar isListener_1 = require(\"../utils/isListener\");\nvar combine = redux_1.combineReducers;\nvar allReducers = {};\n// create reducer for given dispatch type\n// pass in (state, payload)\nexports.createReducer = function (reducer, initialState) {\n    return function (state, action) {\n        if (state === void 0) { state = initialState; }\n        // handle effects\n        if (typeof reducer[action.type] === 'function') {\n            return reducer[action.type](state, action.payload, action.meta);\n        }\n        return state;\n    };\n};\n// creates a reducer out of \"reducers\" keys and values\nexports.createModelReducer = function (_a) {\n    var name = _a.name, reducers = _a.reducers, state = _a.state;\n    var modelReducers = {};\n    Object.keys(reducers || {})\n        .forEach(function (reducer) {\n        var action = isListener_1.default(reducer) ? reducer : name + \"/\" + reducer;\n        modelReducers[action] = reducers[reducer];\n    });\n    return _b = {},\n        _b[name] = exports.createReducer(modelReducers, state),\n        _b;\n    var _b;\n};\n// uses combineReducers to merge new reducers into existing reducers\nexports.mergeReducers = function (nextReducers) {\n    if (nextReducers === void 0) { nextReducers = {}; }\n    allReducers = __assign({}, allReducers, nextReducers);\n    if (!Object.keys(allReducers).length) {\n        return function (state) { return state; };\n    }\n    return combine(allReducers);\n};\nexports.initReducers = function (models, redux) {\n    // optionally overwrite combineReducers on init\n    combine = redux.combineReducers || combine;\n    // combine existing reducers, redux.reducers & model.reducers\n    exports.mergeReducers(models.reduce(function (reducers, model) { return (__assign({}, exports.createModelReducer(model), reducers)); }, redux.reducers));\n};\nexports.createRootReducer = function (rootReducers) {\n    if (rootReducers === void 0) { rootReducers = {}; }\n    var mergedReducers = exports.mergeReducers();\n    if (Object.keys(rootReducers).length) {\n        return function (state, action) {\n            var rootReducerAction = rootReducers[action.type];\n            if (rootReducers[action.type]) {\n                return mergedReducers(rootReducerAction(state, action), action);\n            }\n            return mergedReducers(state, action);\n        };\n    }\n    return mergedReducers;\n};\n//# sourceMappingURL=reducers.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint no-underscore-dangle: 0 */\nvar redux_1 = require(\"redux\");\nvar core_1 = require(\"../core\");\nvar devtools_1 = require(\"./devtools\");\nvar reducers_1 = require(\"./reducers\");\nvar rootReducers;\nexports.initStore = function (_a) {\n    var redux = _a.redux;\n    var initialState = typeof redux.initialState === 'undefined' ? {} : redux.initialState;\n    var createStore = redux.createStore || redux_1.createStore;\n    rootReducers = redux.rootReducers;\n    var rootReducer = reducers_1.createRootReducer(rootReducers);\n    var middlewareList = core_1.pluginMiddlewares.concat((redux.middlewares || []));\n    var middlewares = redux_1.applyMiddleware.apply(void 0, middlewareList);\n    var enhancers = devtools_1.composeEnhancers(redux.devtoolOptions).apply(void 0, (redux.enhancers || []).concat([middlewares]));\n    exports.store = createStore(rootReducer, initialState, enhancers);\n    return exports.store;\n};\n// allows for \"model\" to dynamically update the reducers/store\nexports.createReducersAndUpdateStore = function (model) {\n    reducers_1.mergeReducers(reducers_1.createModelReducer(model));\n    exports.store.replaceReducer(reducers_1.createRootReducer(rootReducers));\n};\n//# sourceMappingURL=store.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Validate\n *\n * takes an array of arrays of validations and\n * throws if an error occurs\n */\n/* istanbul ignore next */\nvar validate = function (validations) {\n    if (process.env.NODE_ENV !== 'production') {\n        validations.forEach(function (validation) {\n            var condition = validation[0];\n            var errorMessage = validation[1];\n            if (condition) {\n                throw new Error(errorMessage);\n            }\n        });\n    }\n};\nexports.default = validate;\n//# sourceMappingURL=validate.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"./core\");\nvar store_1 = require(\"./redux/store\");\nvar validate_1 = require(\"./utils/validate\");\nvar addModel = function (model) {\n    validate_1.default([\n        [!model, 'model config is required'],\n        [\n            !model.name || typeof model.name !== 'string',\n            'model \"name\" [string] is required',\n        ],\n        [model.state === undefined, 'model \"state\" is required'],\n    ]);\n    // run plugin model subscriptions\n    core_1.modelHooks.forEach(function (modelHook) { return modelHook(model); });\n};\n// main model import method\n// adds config.models\nexports.initModelHooks = function (models) {\n    models.forEach(function (model) { return addModel(model); });\n};\n// allows merging of models dynamically\n// model(model)\nexports.createModel = function (model) {\n    addModel(model);\n    // add model reducers to redux store\n    store_1.createReducersAndUpdateStore(model);\n};\n//# sourceMappingURL=model.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar _this = this;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar storeDispatch;\nvar dispatchPlugin = {\n    expose: {\n        createDispatcher: function (modelName, reducerName) {\n            return function (payload, meta) { return __awaiter(_this, void 0, void 0, function () {\n                var action;\n                return __generator(this, function (_a) {\n                    action = { type: modelName + \"/\" + reducerName };\n                    if (typeof payload !== 'undefined') {\n                        action.payload = payload;\n                    }\n                    if (typeof meta !== 'undefined') {\n                        action.meta = meta;\n                    }\n                    return [2 /*return*/, storeDispatch(action)];\n                });\n            }); };\n        },\n        dispatch: function (action) { return storeDispatch(action); },\n    },\n    init: function (_a) {\n        var dispatch = _a.dispatch, createDispatcher = _a.createDispatcher, validate = _a.validate;\n        return ({\n            onStoreCreated: function (store) {\n                storeDispatch = store.dispatch;\n            },\n            onModel: function (model) {\n                dispatch[model.name] = {};\n                Object.keys(model.reducers || {}).forEach(function (reducerName) {\n                    validate([\n                        [\n                            !!reducerName.match(/\\/.+\\//),\n                            \"Invalid reducer name (\" + model.name + \"/\" + reducerName + \")\",\n                        ],\n                        [\n                            typeof model.reducers[reducerName] !== 'function',\n                            \"Invalid reducer (\" + model.name + \"/\" + reducerName + \"). Must be a function\",\n                        ],\n                    ]);\n                    dispatch[model.name][reducerName] = createDispatcher(model.name, reducerName);\n                });\n            },\n        });\n    },\n};\nexports.default = dispatchPlugin;\n//# sourceMappingURL=dispatch.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar _this = this;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar effectsPlugin = {\n    expose: {\n        effects: {},\n    },\n    init: function (_a) {\n        var effects = _a.effects, dispatch = _a.dispatch, createDispatcher = _a.createDispatcher, validate = _a.validate;\n        return ({\n            onModel: function (model) {\n                Object.keys(model.effects || {}).forEach(function (effectName) {\n                    validate([\n                        [\n                            !!effectName.match(/\\//),\n                            \"Invalid effect name (\" + model.name + \"/\" + effectName + \")\",\n                        ],\n                        [\n                            typeof model.effects[effectName] !== 'function',\n                            \"Invalid effect (\" + model.name + \"/\" + effectName + \"). Must be a function\",\n                        ],\n                    ]);\n                    effects[model.name + \"/\" + effectName] = model.effects[effectName].bind(dispatch[model.name]);\n                    // add effect to dispatch\n                    // is assuming dispatch is available already... that the dispatch plugin is in there\n                    dispatch[model.name][effectName] = createDispatcher(model.name, effectName);\n                    // tag effects so they can be differentiated from normal actions\n                    dispatch[model.name][effectName].isEffect = true;\n                });\n            },\n            middleware: function (store) { return function (next) { return function (action) { return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!(action.type in effects)) return [3 /*break*/, 3];\n                            return [4 /*yield*/, next(action)];\n                        case 1:\n                            _a.sent();\n                            return [4 /*yield*/, effects[action.type](action.payload, store.getState(), action.meta)];\n                        case 2:\n                            _a.sent();\n                            return [3 /*break*/, 4];\n                        case 3: return [2 /*return*/, next(action)];\n                        case 4: return [2 /*return*/];\n                    }\n                });\n            }); }; }; },\n        });\n    },\n};\nexports.default = effectsPlugin;\n//# sourceMappingURL=effects.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dispatch_1 = require(\"./dispatch\");\nvar effects_1 = require(\"./effects\");\nvar corePlugins = [\n    dispatch_1.default,\n    effects_1.default,\n];\nexports.default = corePlugins;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = (function (plugins, exposed) { return plugins.reduce(function (all, _a) {\n    var init = _a.init;\n    if (init) {\n        var plugin = init(exposed);\n        exposed.validate([\n            [\n                plugin.onStoreCreated && typeof plugin.onStoreCreated !== 'function',\n                'Plugin onStoreCreated must be a function',\n            ],\n            [\n                plugin.onModel && typeof plugin.onModel !== 'function',\n                'Plugin onModel must be a function',\n            ],\n            [\n                plugin.middleware && typeof plugin.middleware !== 'function',\n                'Plugin middleware must be a function',\n            ],\n        ]);\n        all.push(plugin);\n    }\n    return all;\n}, []); });\n//# sourceMappingURL=buildPlugins.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isListener_1 = require(\"./isListener\");\nexports.default = (function (models) {\n    return Object.keys(models).reduce(function (actionCreators, modelName) {\n        var _a = models[modelName].reducers, reducers = _a === void 0 ? {} : _a;\n        Object.keys(reducers)\n            .filter(function (reducerName) { return !isListener_1.default(reducerName); })\n            .forEach(function (reducerName) {\n            var type = modelName + \"/\" + reducerName;\n            actionCreators[type] = function (payload, meta) { return ({\n                type: type, payload: payload, meta: meta,\n            }); };\n        });\n        return actionCreators;\n    }, {});\n});\n//# sourceMappingURL=getActionCreators.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar validate_1 = require(\"./validate\");\nexports.default = (function (plugins) {\n    return plugins.reduce(function (exposed, plugin) { return (__assign({}, exposed, (plugin.expose || {}))); }, {\n        validate: validate_1.default,\n    });\n});\n//# sourceMappingURL=getExposed.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = (function (models) {\n    return Object.keys(models).map(function (name) { return (__assign({ name: name }, models[name])); });\n});\n//# sourceMappingURL=getModels.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = (function (obj) { return (Array.isArray(obj) || typeof obj !== 'object'); });\n//# sourceMappingURL=isObject.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar merge = function (original, next) {\n    return (next) ? __assign({}, next, (original || {})) : original || {};\n};\n// merges init config with plugin configs\nexports.default = (function (config) {\n    // defaults\n    var plugins = config.plugins || [];\n    return (plugins).reduce(function (merged, plugin) {\n        if (plugin.config) {\n            // models\n            merged.models = merge(merged.models, plugin.config.models);\n            // plugins\n            if (plugin.config.plugins) {\n                merged.plugins = merged.plugins.concat(plugin.config.plugins);\n            }\n            // redux\n            if (plugin.config.redux) {\n                merged.redux.initialState = merge(merged.redux.initialState, plugin.config.redux.initialState);\n                merged.redux.reducers = merge(merged.redux.reducers, plugin.config.redux.reducers);\n                merged.redux.rootReducers = merge(merged.redux.rootReducers, plugin.config.redux.reducers);\n                if (plugin.config.redux.enhancers) {\n                    merged.redux.enhancers = merged.redux.enhancers.concat(plugin.config.redux.enhancers);\n                }\n                merged.redux.combineReducers = merged.redux.combineReducers || plugin.config.redux.combineReducers;\n                merged.redux.createStore = merged.redux.createStore || plugin.config.redux.createStore;\n            }\n        }\n        return merged;\n    }, config);\n});\n//# sourceMappingURL=mergeConfig.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"./core\");\nvar model_1 = require(\"./model\");\nvar plugins_1 = require(\"./plugins\");\nvar reducers_1 = require(\"./redux/reducers\");\nvar store_1 = require(\"./redux/store\");\nvar buildPlugins_1 = require(\"./utils/buildPlugins\");\nvar getActionCreators_1 = require(\"./utils/getActionCreators\");\nvar getExposed_1 = require(\"./utils/getExposed\");\nvar getModels_1 = require(\"./utils/getModels\");\nvar isObject_1 = require(\"./utils/isObject\");\nvar mergeConfig_1 = require(\"./utils/mergeConfig\");\nvar validate_1 = require(\"./utils/validate\");\nvar init = function (config) {\n    if (config === void 0) { config = {}; }\n    config = __assign({}, config, { models: config.models || {}, redux: config.redux || {} });\n    validate_1.default([\n        [\n            config.plugins && !Array.isArray(config.plugins),\n            'init config.plugins must be an array',\n        ],\n        [\n            config.models && isObject_1.default(config.models),\n            'init config.models must be an object',\n        ],\n        [\n            config.redux.reducers\n                && isObject_1.default(config.redux.reducers),\n            'init config.redux.reducers must be an object',\n        ],\n        [\n            config.redux.middlewares && !Array.isArray(config.redux.middlewares),\n            'init config.redux.middlewares must be an array',\n        ],\n        [\n            config.redux.enhancers\n                && !Array.isArray(config.redux.enhancers),\n            'init config.redux.enhancers must be an array of functions',\n        ],\n        [\n            config.redux.combineReducers && typeof config.redux.combineReducers !== 'function',\n            'init config.redux.combineReducers must be a function',\n        ],\n        [\n            config.redux.createStore && typeof config.redux.createStore !== 'function',\n            'init config.redux.createStore must be a function',\n        ],\n    ]);\n    config = __assign({}, config, { redux: __assign({}, config.redux, { devtoolOptions: __assign({ \n                // We use our devtool options before spreading the user's\n                // configured devtool options so that they can override ours\n                actionCreators: getActionCreators_1.default(config.models) }, config.redux.devtoolOptions || {}) }) });\n    var mergedConfig = mergeConfig_1.default(config);\n    var pluginConfigs = plugins_1.default.concat(mergedConfig.plugins || []);\n    var exposed = getExposed_1.default(pluginConfigs);\n    var plugins = buildPlugins_1.default(pluginConfigs, exposed);\n    // preStore: middleware, model hooks\n    core_1.preStore(plugins);\n    // collect all models\n    var models = getModels_1.default(mergedConfig.models);\n    model_1.initModelHooks(models);\n    reducers_1.initReducers(models, mergedConfig.redux);\n    // create a redux store with initialState\n    // merge in additional extra reducers\n    var store = store_1.initStore(mergedConfig);\n    core_1.postStore(plugins, store);\n    // use plugin dispatch as store.dispatch\n    store.dispatch = plugins_1.default[0].expose.dispatch;\n    return store;\n};\nexports.default = init;\n//# sourceMappingURL=init.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = (function (warning) {\n    if (process.env.NODE_ENV !== 'production') {\n        console.warn(warning);\n    }\n});\n//# sourceMappingURL=deprecate.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar init_1 = require(\"./init\");\nexports.init = init_1.default;\nvar model_1 = require(\"./model\");\nexports.model = model_1.createModel;\nvar dispatch_1 = require(\"./plugins/dispatch\");\nvar store_1 = require(\"./redux/store\");\nvar deprecate_1 = require(\"./utils/deprecate\");\nvar dispatch = dispatch_1.default.expose.dispatch;\nexports.dispatch = dispatch;\nvar getState = function () {\n    deprecate_1.default('getState import will be removed in @rematch/core@v1.0.0');\n    return store_1.store.getState();\n};\nexports.getState = getState;\nexports.default = {\n    dispatch: dispatch,\n    getState: getState,\n    init: init_1.default,\n    model: model_1.createModel,\n};\n//# sourceMappingURL=index.js.map"],"names":["Object","defineProperty","exports","value","plugins","forEach","plugin","middleware","pluginMiddlewares","push","onModel","modelHooks","store","onStoreCreated","freeGlobal","global","freeSelf","self","root","Function","Symbol","objectProto","prototype","hasOwnProperty","nativeObjectToString","toString","symToStringTag","toStringTag","undefined","getRawTag","isOwn","call","tag","unmasked","e","result","objectToString","nullTag","undefinedTag","baseGetTag","overArg","func","transform","arg","getPrototype","getPrototypeOf","isObjectLike","objectTag","funcProto","funcToString","objectCtorString","isPlainObject","proto","Ctor","constructor","symbolObservablePonyfill","observable","ponyfill","window","module","ActionTypes","INIT","createStore","reducer","preloadedState","enhancer","_ref2","Error","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","slice","getState","subscribe","listener","isSubscribed","index","indexOf","splice","dispatch","action","type","listeners","i","length","replaceReducer","nextReducer","$$observable","_ref","outerSubscribe","observer","TypeError","observeState","next","unsubscribe","this","getUndefinedStateErrorMessage","key","actionType","assertReducerShape","reducers","keys","Math","random","substring","split","join","combineReducers","reducerKeys","finalReducers","finalReducerKeys","shapeAssertionError","state","arguments","hasChanged","nextState","_i","_key","previousStateForKey","nextStateForKey","errorMessage","bindActionCreator","actionCreator","apply","bindActionCreators","actionCreators","boundActionCreators","compose","_len","funcs","Array","reduce","a","b","_extends","assign","target","source","applyMiddleware","middlewares","chain","_dispatch","middlewareAPI","map","devtoolOptions","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","redux_1","includes","__assign","t","s","n","p","combine","allReducers","initialState","payload","meta","_a","_b","name","modelReducers","isListener_1","default","createReducer","nextReducers","models","redux","mergeReducers","model","createModelReducer","rootReducers","mergedReducers","rootReducerAction","rootReducer","reducers_1","createRootReducer","middlewareList","core_1","concat","enhancers","devtools_1","composeEnhancers","validations","addModel","validate_1","modelHook","store_1","createReducersAndUpdateStore","storeDispatch","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","rejected","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","iterator","v","op","pop","_this","expose","createDispatcher","modelName","reducerName","init","validate","match","effects","effectName","bind","isEffect","dispatch_1","effects_1","exposed","all","filter","obj","isArray","merge","original","config","merged","isObject_1","getActionCreators_1","mergedConfig","mergeConfig_1","pluginConfigs","plugins_1","getExposed_1","buildPlugins_1","preStore","getModels_1","model_1","initModelHooks","initReducers","initStore","postStore","warning","init_1","createModel","deprecate_1"],"mappings":"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"}